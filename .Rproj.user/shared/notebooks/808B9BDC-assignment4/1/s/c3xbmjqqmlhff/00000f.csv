"0","# AIC for the Gamma(GLM) model (already on Y-scale)"
"0","aic_gamma <- AIC(claimsize.2.gamma)"
"0",""
"0","# AIC for the lognormal model from lm(log(CLAIMS) ~ ...)"
"0","# Convert the lm to a lognormal likelihood on Y"
"0","mf_ln  <- model.frame(claimsize.2.lognormal)"
"0","y_log  <- model.response(mf_ln)               # = log(CLAIMS)"
"0","y      <- exp(y_log)                          # original scale"
"0","mu_log <- fitted(claimsize.2.lognormal)       # mean on log scale"
"0","sdlog  <- sigma(claimsize.2.lognormal)        # residual SD on log scale"
"0",""
"0","ll_lognorm <- sum(dlnorm(y, meanlog = mu_log, sdlog = sdlog, log = TRUE))"
"0","k_lognorm  <- length(coef(claimsize.2.lognormal)) + 1  # +1 for sd"
"0","aic_lognorm <- -2 * ll_lognorm + 2 * k_lognorm"
"0",""
"0","# (Equivalent shortcut: aic_lognorm <- AIC(claimsize.2.lognormal) + 2 * sum(log(y)))"
"0",""
"0","# Compare"
"0","aics <- c(Gamma = aic_gamma, Lognormal = aic_lognorm)"
"0","delta <- aics - min(aics)"
"0","akaike_wt <- exp(-0.5 * delta) / sum(exp(-0.5 * delta))"
"0",""
"0","data.frame(Model = names(aics), AIC = aics, DeltaAIC = delta, AkaikeWeight = akaike_wt)"
